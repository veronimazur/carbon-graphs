<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>helpers/axis.js - Carbon</title>
    
    <meta name="description" content="A graphing library built using d3 based on Cerner design standards" />
    
        <meta name="keywords" content="carbon" />
        <meta name="keyword" content="carbon" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Bar.html">Bar</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Bar.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Bar.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="Bar.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Bar.html#unload">unload</a></li></ul></li><li></li><li><a href="BarConfig.html">BarConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BarConfig.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="BarConfig.html#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="BarConfig.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="BarConfig.html#validateInput">validateInput</a></li></ul></li><li></li><li><a href="BaseConfig.html">BaseConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BaseConfig.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="BaseConfig.html#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="BaseConfig.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="BaseConfig.html#validateInput">validateInput</a></li></ul></li><li><a href="Construct.html">Construct</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Construct.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Construct.html#generate">generate</a></li><li data-type='method' style='display: none;'><a href="Construct.html#loadContent">loadContent</a></li><li data-type='method' style='display: none;'><a href="Construct.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Construct.html#unloadContent">unloadContent</a></li></ul></li><li><a href="Gantt.html">Gantt</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Gantt.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Gantt.html#generate">generate</a></li><li data-type='method' style='display: none;'><a href="Gantt.html#loadContent">loadContent</a></li><li data-type='method' style='display: none;'><a href="Gantt.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Gantt.html#unloadContent">unloadContent</a></li></ul></li><li></li><li><a href="global.html#GanttConfig">GanttConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="global.html#GanttConfig#clone">clone</a></li><li data-type='method' style='display: none;'><a href="global.html#GanttConfig#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="global.html#GanttConfig#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="global.html#GanttConfig#validateInput">validateInput</a></li></ul></li><li></li><li><a href="Graph.html">Graph</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Graph.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Graph.html#generate">generate</a></li><li data-type='method' style='display: none;'><a href="Graph.html#loadContent">loadContent</a></li><li data-type='method' style='display: none;'><a href="Graph.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Graph.html#unloadContent">unloadContent</a></li></ul></li><li></li><li><a href="global.html#GraphConfig">GraphConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="global.html#GraphConfig#clone">clone</a></li><li data-type='method' style='display: none;'><a href="global.html#GraphConfig#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="global.html#GraphConfig#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="global.html#GraphConfig#validateInput">validateInput</a></li></ul></li><li></li><li><a href="GraphContent.html">GraphContent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="GraphContent.html#load">load</a></li><li data-type='method' style='display: none;'><a href="GraphContent.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="GraphContent.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="GraphContent.html#unload">unload</a></li></ul></li><li><a href="Line.html">Line</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Line.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Line.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="Line.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Line.html#unload">unload</a></li></ul></li><li></li><li><a href="global.html#LineConfig">LineConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="global.html#LineConfig#clone">clone</a></li><li data-type='method' style='display: none;'><a href="global.html#LineConfig#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="global.html#LineConfig#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="global.html#LineConfig#validateInput">validateInput</a></li></ul></li><li></li><li><a href="module.exports_module.exports.html">exports</a></li><li><a href="PairedResult.html">PairedResult</a><ul class='methods'><li data-type='method' style='display: none;'><a href="PairedResult.html#load">load</a></li><li data-type='method' style='display: none;'><a href="PairedResult.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="PairedResult.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="PairedResult.html#unload">unload</a></li></ul></li><li></li><li><a href="global.html#PairedResultConfig">PairedResultConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="global.html#PairedResultConfig#clone">clone</a></li><li data-type='method' style='display: none;'><a href="global.html#PairedResultConfig#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="global.html#PairedResultConfig#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="global.html#PairedResultConfig#validateInput">validateInput</a></li></ul></li><li></li><li><a href="Pie.html">Pie</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Pie.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Pie.html#generate">generate</a></li><li data-type='method' style='display: none;'><a href="Pie.html#loadContent">loadContent</a></li><li data-type='method' style='display: none;'><a href="Pie.html#unloadContent">unloadContent</a></li></ul></li><li></li><li><a href="Shape.html">Shape</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Shape.html#getShapeElement">getShapeElement</a></li></ul></li><li><a href="Timeline.html">Timeline</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Timeline.html#destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="Timeline.html#generate">generate</a></li><li data-type='method' style='display: none;'><a href="Timeline.html#loadContent">loadContent</a></li><li data-type='method' style='display: none;'><a href="Timeline.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Timeline.html#unloadContent">unloadContent</a></li></ul></li><li></li><li><a href="global.html#TimelineConfig">TimelineConfig</a><ul class='methods'><li data-type='method' style='display: none;'><a href="global.html#TimelineConfig#clone">clone</a></li><li data-type='method' style='display: none;'><a href="global.html#TimelineConfig#getConfig">getConfig</a></li><li data-type='method' style='display: none;'><a href="global.html#TimelineConfig#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="global.html#TimelineConfig#validateInput">validateInput</a></li></ul></li><li></li><li><a href="TimelineContent.html">TimelineContent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TimelineContent.html#load">load</a></li><li data-type='method' style='display: none;'><a href="TimelineContent.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="TimelineContent.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="TimelineContent.html#unload">unload</a></li></ul></li><li></li><li><a href="Track.html">Track</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Track.html#load">load</a></li><li data-type='method' style='display: none;'><a href="Track.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="Track.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="Track.html#unload">unload</a></li></ul></li><li></li></ul><h3>Modules</h3><ul><li><a href="module-api.html">api</a></li><li><a href="module-axis.html">axis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-axis.html#~isValidAxisType">isValidAxisType</a></li><li data-type='method' style='display: none;'><a href="module-axis.html#~prepareHorizontalAxis">prepareHorizontalAxis</a></li></ul></li><li><a href="module-Carbon.html">Carbon</a></li><li><a href="module-constants.html">constants</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-constants.html#.AXES_ORIENTATION">AXES_ORIENTATION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.AXIS_TYPE">AXIS_TYPE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.BASE_CANVAS_WIDTH_PADDING">BASE_CANVAS_WIDTH_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.BASE_LABEL_ICON_HEIGHT_PADDING">BASE_LABEL_ICON_HEIGHT_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.BASE_LABEL_ICON_SPACING">BASE_LABEL_ICON_SPACING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.BASE_LABEL_ICON_WIDTH_PADDING">BASE_LABEL_ICON_WIDTH_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.COLORS">COLORS</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_ACTIVITY_BAR_HASH_COLOR">DEFAULT_ACTIVITY_BAR_HASH_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_COLOR">DEFAULT_BAR_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES">DEFAULT_BAR_GRAPH_PADDING_ATTRIBUTES</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_HASH_COLOR">DEFAULT_BAR_HASH_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_REGION_COLOR">DEFAULT_BAR_REGION_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_SELECTION_PADDING">DEFAULT_BAR_SELECTION_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_BAR_STRIPE_COLOR">DEFAULT_BAR_STRIPE_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_COLOR">DEFAULT_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH">DEFAULT_GANTT_ACTIVITY_CHUNK_WIDTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_HEIGHT">DEFAULT_GANTT_ACTIVITY_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_OPACITY">DEFAULT_GANTT_ACTIVITY_OPACITY</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_PADDING">DEFAULT_GANTT_ACTIVITY_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE">DEFAULT_GANTT_ACTIVITY_STRIPE_DISTANCE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH">DEFAULT_GANTT_ACTIVITY_STRIPE_WIDTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_CHUNK_WIDTH">DEFAULT_GANTT_TASK_CHUNK_WIDTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_HEIGHT">DEFAULT_GANTT_TASK_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_PADDING">DEFAULT_GANTT_TASK_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_SELECTION_PADDING">DEFAULT_GANTT_TASK_SELECTION_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_STRIPE_DISTANCE">DEFAULT_GANTT_TASK_STRIPE_DISTANCE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TASK_STRIPE_WIDTH">DEFAULT_GANTT_TASK_STRIPE_WIDTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TRACK_HEIGHT">DEFAULT_GANTT_TRACK_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_GANTT_TRACK_SELECTION">DEFAULT_GANTT_TRACK_SELECTION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_HEIGHT">DEFAULT_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_INTERPOLATION">DEFAULT_INTERPOLATION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_LABEL_CHARACTER_LIMIT">DEFAULT_LABEL_CHARACTER_LIMIT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_PLOT_SCALE">DEFAULT_PLOT_SCALE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_PLOT_SELECTION_SCALE">DEFAULT_PLOT_SELECTION_SCALE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH">DEFAULT_REGION_GOAL_LINE_STROKE_WIDTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_TASK_BAR_HASH_COLOR">DEFAULT_TASK_BAR_HASH_COLOR</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_TIMELINE_PLOT_SELECTION_SCALE">DEFAULT_TIMELINE_PLOT_SELECTION_SCALE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_TIMELINE_SCALE">DEFAULT_TIMELINE_SCALE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_TIMELINE_TICK_LENGTH">DEFAULT_TIMELINE_TICK_LENGTH</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.DEFAULT_Y_AXIS_SPACING">DEFAULT_Y_AXIS_SPACING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.HOVER_EVENT">HOVER_EVENT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.ISO8601_DATE_TIME_MILLI">ISO8601_DATE_TIME_MILLI</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.LINE_TYPE">LINE_TYPE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.MAX_TICK_VARIANCE">MAX_TICK_VARIANCE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.MIN_TICKS">MIN_TICKS</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.PADDING">PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.PAIR_ITEM_TYPES">PAIR_ITEM_TYPES</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.RESIZE_THROTTLE">RESIZE_THROTTLE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.SELECTION_INDICATOR_X_POSITION">SELECTION_INDICATOR_X_POSITION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.SELECTION_INDICATOR_Y_POSITION">SELECTION_INDICATOR_Y_POSITION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.SHAPES">SHAPES</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.TEXT_LABEL_ICON_HEIGHT_PADDING">TEXT_LABEL_ICON_HEIGHT_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.TEXT_LABEL_ICON_WIDTH_PADDING">TEXT_LABEL_ICON_WIDTH_PADDING</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.TEXT_LABEL_VERTICAL_POSITION">TEXT_LABEL_VERTICAL_POSITION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.TICK_ORIENTATION">TICK_ORIENTATION</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.TIMELINE_HEIGHT">TIMELINE_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.VIEW_BOX_SIZE">VIEW_BOX_SIZE</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.X_AXIS">X_AXIS</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.Y2_AXIS">Y2_AXIS</a></li><li data-type='member' style='display: none;'><a href="module-constants.html#.Y_AXIS">Y_AXIS</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-constants.html#.d3Transition">d3Transition</a></li></ul></li><li><a href="module-errors.html">errors</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_DURATION_NOT_FUNCTION">THROW_MSG_ACTIVITIES_DURATION_NOT_FUNCTION</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_DURATION_NOT_PROVIDED">THROW_MSG_ACTIVITIES_DURATION_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_DURATION_NOT_VALID">THROW_MSG_ACTIVITIES_DURATION_NOT_VALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_NOT_PROVIDED">THROW_MSG_ACTIVITIES_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_START_AND_END_NOT_PROVIDED">THROW_MSG_ACTIVITIES_START_AND_END_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_START_AND_END_TYPE_NOT_VALID">THROW_MSG_ACTIVITIES_START_AND_END_TYPE_NOT_VALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_START_MORE_END">THROW_MSG_ACTIVITIES_START_MORE_END</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_ACTIVITIES_UNIQUE_KEY_NOT_PROVIDED">THROW_MSG_ACTIVITIES_UNIQUE_KEY_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_AXIS_INFO_ROW_EMPTY_TICK_VALUES">THROW_MSG_AXIS_INFO_ROW_EMPTY_TICK_VALUES</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_AXIS_INFO_ROW_INVALID_TICK_VALUES">THROW_MSG_AXIS_INFO_ROW_INVALID_TICK_VALUES</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_AXIS_INFO_ROW_LABEL_DISPLAY_NOT_PROVIDED">THROW_MSG_AXIS_INFO_ROW_LABEL_DISPLAY_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_AXIS_INFO_ROW_VALUE_NOT_PROVIDED">THROW_MSG_AXIS_INFO_ROW_VALUE_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_BAR_REGION_EMPTY_X_VALUE">THROW_MSG_BAR_REGION_EMPTY_X_VALUE</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONFIG_CLONE_INPUT_NOT_IMPLEMENTED">THROW_MSG_CONFIG_CLONE_INPUT_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONFIG_GET_CONFIG_NOT_IMPLEMENTED">THROW_MSG_CONFIG_GET_CONFIG_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONFIG_SET_INPUT_NOT_IMPLEMENTED">THROW_MSG_CONFIG_SET_INPUT_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONFIG_VALIDATE_INPUT_NOT_IMPLEMENTED">THROW_MSG_CONFIG_VALIDATE_INPUT_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONSTRUCT_DESTROY_NOT_IMPLEMENTED">THROW_MSG_CONSTRUCT_DESTROY_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONSTRUCT_GENERATE_NOT_IMPLEMENTED">THROW_MSG_CONSTRUCT_GENERATE_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONSTRUCT_LOAD_NOT_IMPLEMENTED">THROW_MSG_CONSTRUCT_LOAD_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONSTRUCT_RESIZE_NOT_IMPLEMENTED">THROW_MSG_CONSTRUCT_RESIZE_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONSTRUCT_UNLOAD_NOT_IMPLEMENTED">THROW_MSG_CONSTRUCT_UNLOAD_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONTENT_LOAD_NOT_IMPLEMENTED">THROW_MSG_CONTENT_LOAD_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONTENT_REDRAW_NOT_IMPLEMENTED">THROW_MSG_CONTENT_REDRAW_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONTENT_RESIZE_NOT_IMPLEMENTED">THROW_MSG_CONTENT_RESIZE_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_CONTENT_UNLOAD_NOT_IMPLEMENTED">THROW_MSG_CONTENT_UNLOAD_NOT_IMPLEMENTED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_DATELINE_COLOR_NOT_PROVIDED">THROW_MSG_DATELINE_COLOR_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_DATELINE_NOT_PROVIDED">THROW_MSG_DATELINE_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_DATELINE_OBJECT_NOT_PROVIDED">THROW_MSG_DATELINE_OBJECT_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_DATELINE_SHAPE_NOT_PROVIDED">THROW_MSG_DATELINE_SHAPE_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_DATELINE_TYPE_NOT_VALID">THROW_MSG_DATELINE_TYPE_NOT_VALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_EMPTY_X_AXIS_TICK_VALUES">THROW_MSG_EMPTY_X_AXIS_TICK_VALUES</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_AXIS_TYPE_VALUES">THROW_MSG_INVALID_AXIS_TYPE_VALUES</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_CALLBACK_FUNCTION">THROW_MSG_INVALID_CALLBACK_FUNCTION</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_DATA_PROPERTY">THROW_MSG_INVALID_DATA_PROPERTY</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_FORMAT_TYPE">THROW_MSG_INVALID_FORMAT_TYPE</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_INPUT">THROW_MSG_INVALID_INPUT</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_LOAD_CONTENT_AT_INDEX">THROW_MSG_INVALID_LOAD_CONTENT_AT_INDEX</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_OBJECT_PROVIDED">THROW_MSG_INVALID_OBJECT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_REGION_X_AXIS_TICK">THROW_MSG_INVALID_REGION_X_AXIS_TICK</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_TYPE">THROW_MSG_INVALID_TYPE</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_INVALID_X_AXIS_TICK_VALUES">THROW_MSG_INVALID_X_AXIS_TICK_VALUES</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_AXES_DATA_LOADED">THROW_MSG_NO_AXES_DATA_LOADED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_AXIS_INFO">THROW_MSG_NO_AXIS_INFO</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_AXIS_LABEL_INFO">THROW_MSG_NO_AXIS_LABEL_INFO</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_AXIS_LIMIT_INFO">THROW_MSG_NO_AXIS_LIMIT_INFO</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_BIND">THROW_MSG_NO_BIND</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_CONTENT_DATA_LOADED">THROW_MSG_NO_CONTENT_DATA_LOADED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_DATA_LOADED">THROW_MSG_NO_DATA_LOADED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NO_DATA_POINTS">THROW_MSG_NO_DATA_POINTS</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_NON_UNIQUE_PROPERTY">THROW_MSG_NON_UNIQUE_PROPERTY</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_EMPTY">THROW_MSG_REGION_EMPTY</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_INVALID_AXIS_PROVIDED">THROW_MSG_REGION_INVALID_AXIS_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_INVALID_FORMAT">THROW_MSG_REGION_INVALID_FORMAT</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_INVALID_VALUE_TYPE_PROVIDED">THROW_MSG_REGION_INVALID_VALUE_TYPE_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_START_END_MISSING">THROW_MSG_REGION_START_END_MISSING</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_REGION_START_MORE_END">THROW_MSG_REGION_START_MORE_END</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_SHAPE_OPTIONS_EMPTY">THROW_MSG_SHAPE_OPTIONS_EMPTY</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_SHAPE_OPTIONS_PROPERTY_INVALID">THROW_MSG_SHAPE_OPTIONS_PROPERTY_INVALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_SHAPE_PATH_EMPTY">THROW_MSG_SHAPE_PATH_EMPTY</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_DURATION_NOT_FUNCTION">THROW_MSG_TASKS_DURATION_NOT_FUNCTION</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_DURATION_NOT_PROVIDED">THROW_MSG_TASKS_DURATION_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_DURATION_NOT_VALID">THROW_MSG_TASKS_DURATION_NOT_VALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_NOT_PROVIDED">THROW_MSG_TASKS_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_START_AND_END_NOT_PROVIDED">THROW_MSG_TASKS_START_AND_END_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_START_AND_END_TYPE_NOT_VALID">THROW_MSG_TASKS_START_AND_END_TYPE_NOT_VALID</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_START_MORE_END">THROW_MSG_TASKS_START_MORE_END</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_TASKS_UNIQUE_KEY_NOT_PROVIDED">THROW_MSG_TASKS_UNIQUE_KEY_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_UNIQUE_ACTION_KEY_NOT_PROVIDED">THROW_MSG_UNIQUE_ACTION_KEY_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_UNIQUE_KEY_NOT_PROVIDED">THROW_MSG_UNIQUE_KEY_NOT_PROVIDED</a></li><li data-type='member' style='display: none;'><a href="module-errors.html#.THROW_MSG_UNIQUE_LABEL_NOT_PROVIDED">THROW_MSG_UNIQUE_LABEL_NOT_PROVIDED</a></li></ul></li><li><a href="module-label.html">label</a></li><li><a href="module-legend.html">legend</a></li><li><a href="module-region.html">region</a></li><li><a href="module-styles.html">styles</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-styles.html#.activity">activity</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.activityBar">activityBar</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.activityGroup">activityGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axis">axis</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisInfoRow">axisInfoRow</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisInfoRowDisplay">axisInfoRowDisplay</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisInfoRowIcon">axisInfoRowIcon</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisInfoRowItem">axisInfoRowItem</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisInfoRowSecondaryDisplay">axisInfoRowSecondaryDisplay</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabel">axisLabel</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelRow">axisLabelRow</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelX">axisLabelX</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelY">axisLabelY</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelY2">axisLabelY2</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelY2ShapeContainer">axisLabelY2ShapeContainer</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisLabelYShapeContainer">axisLabelYShapeContainer</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisReferenceLine">axisReferenceLine</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisX">axisX</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisY">axisY</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisY2">axisY2</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.axisYTrackLabel">axisYTrackLabel</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.bar">bar</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.barGoalLine">barGoalLine</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.barGraphContent">barGraphContent</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.barHashedRect">barHashedRect</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.barSelectionGroup">barSelectionGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.blur">blur</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.canvas">canvas</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.canvasXAxis">canvasXAxis</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.container">container</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.contentContainer">contentContainer</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.criticalityInnerPoint">criticalityInnerPoint</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.criticalityOuterPoint">criticalityOuterPoint</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.currentBarsGroup">currentBarsGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.currentLinesGroup">currentLinesGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.currentPointsGroup">currentPointsGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.dataPointDisplayEnable">dataPointDisplayEnable</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.dataPointSelection">dataPointSelection</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.dateline">dateline</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.datelineContent">datelineContent</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.datelineGroup">datelineGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.datelinePoint">datelinePoint</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.ganttChartContent">ganttChartContent</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.ganttTrackBarSelection">ganttTrackBarSelection</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.ganttTrackSelectorGroup">ganttTrackSelectorGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.grid">grid</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.gridH">gridH</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.gridLowerStep">gridLowerStep</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.gridMidpoint">gridMidpoint</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.gridUpperStep">gridUpperStep</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.gridV">gridV</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.high">high</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.highlight">highlight</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.legend">legend</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.legendItem">legendItem</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.legendItemBtn">legendItemBtn</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.legendItemIcon">legendItemIcon</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.legendItemText">legendItemText</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.line">line</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.lineGraphContent">lineGraphContent</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.low">low</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.mid">mid</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.pairedBox">pairedBox</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.pairedBoxGroup">pairedBoxGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.pairedLine">pairedLine</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.pairedPoint">pairedPoint</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.point">point</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.pointGroup">pointGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.region">region</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.regionBlur">regionBlur</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.regionGroup">regionGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.regionHighlight">regionHighlight</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.regionPairGroup">regionPairGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.svgIcon">svgIcon</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.task">task</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.taskBar">taskBar</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.taskBarCompletion">taskBarCompletion</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.taskBarSelection">taskBarSelection</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.taskGroup">taskGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.timelineContentGroup">timelineContentGroup</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.timelineGraphContent">timelineGraphContent</a></li><li data-type='member' style='display: none;'><a href="module-styles.html#.trackGroup">trackGroup</a></li></ul></li><li><a href="module-utils.html">utils</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-utils.html#.deepClone">deepClone</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.getNumber">getNumber</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.getTime">getTime</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.hasValue">hasValue</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isArray">isArray</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isDate">isDate</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isDateInstance">isDateInstance</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isDefined">isDefined</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isEmpty">isEmpty</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isEqual">isEqual</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isFunction">isFunction</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isNumber">isNumber</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.isUndefined">isUndefined</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.notEmpty">notEmpty</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.parseDateTime">parseDateTime</a></li><li data-type='member' style='display: none;'><a href="module-utils.html#.sanitize">sanitize</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#BUCKET_TYPES">BUCKET_TYPES</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#getConfig">getConfig</a></li><li><a href="global.html#getDefaultSVGProps">getDefaultSVGProps</a></li><li><a href="global.html#getTextLabelsXPosition">getTextLabelsXPosition</a></li><li><a href="global.html#helpers">helpers</a></li><li><a href="global.html#LOCALE">LOCALE</a></li><li><a href="global.html#PieConfig">PieConfig</a></li><li><a href="global.html#setInput">setInput</a></li><li><a href="global.html#tools">tools</a></li><li><a href="global.html#validateInput">validateInput</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">helpers/axis.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module axis
 * @alias module:axis
 */

"use strict";
import d3 from "d3";
import Bar from "../controls/Bar/Bar";
import { getScale, getType } from "../core/BaseConfig";
import constants, { AXES_ORIENTATION, AXIS_TYPE } from "../helpers/constants";
import styles from "../helpers/styles";
import utils from "../helpers/utils";
import { DEFAULT_TICK_FORMAT } from "../locale";
import { prepareHAxis } from "./datetimeBuckets";

/**
 * Checks if Y or Y2 axis starts from Origin
 * @private
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {string} yAxis - Y, Y2 etc
 * @returns {boolean} True if axis does not start from origin, false otherwise
 */
const hasNegativeLowerBound = (scale, yAxis = constants.Y_AXIS) =>
    d3.min(scale[yAxis].domain()) &lt; 0 &amp;&amp; d3.max(scale[yAxis].domain()) > 0;
/**
 * Parses the Y Axis lower and upper limits and returns it as an array for Y Axis reference line
 * @private
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @returns {Array}{x: number, y: number} x and y co-ordinate data for drawing a reference line
 */
const getReferenceLineData = (scale) => [
    { x: scale.x.domain()[0], y: 0 },
    { x: scale.x.domain()[1], y: 0 }
];

/**
 * Creates a simple reference line with x and y attributes
 * @private
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {string} yAxis - Y, Y2 etc
 * @returns {d3.Line} A d3 line
 */
const createReferenceLine = (scale, yAxis) =>
    d3.svg
        .line()
        .x((value) => scale.x(value.x))
        .y((value) => scale[yAxis](value.y));
/**
 * Create the d3 Axes - X, Y and Y2 and append into the canvas.
 * If axis.x.show, axis.y.show or axis.y2.show is set to false:
 * then the axis will be hidden
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @param {d3.selection} canvasSVG - d3 selection node of canvas svg
 * @returns {undefined} - returns nothing
 */
const createAxes = (axis, scale, config, canvasSVG) => {
    getAxesScale(axis, scale, config);
    prepareHAxis(scale, axis, config, prepareHorizontalAxis);
    canvasSVG
        .append("g")
        .classed(styles.axis, true)
        .classed(styles.axisX, true)
        .attr("aria-hidden", !config.axis.x.show)
        .attr(
            "transform",
            `translate(${getXAxisXPosition(config)}, ${getXAxisYPosition(
                config
            )})`
        )
        .call(axis.x);
    canvasSVG
        .append("g")
        .classed(styles.axis, true)
        .classed(styles.axisY, true)
        .attr("aria-hidden", !config.axis.y.show)
        .attr(
            "transform",
            `translate(${getYAxisXPosition(config)}, ${getYAxisYPosition(
                config
            )})`
        )
        .call(axis.y);
    if (hasY2Axis(config.axis)) {
        canvasSVG
            .append("g")
            .classed(styles.axis, true)
            .classed(styles.axisY2, true)
            .attr(
                "transform",
                `translate(${getY2AxisXPosition(config)}, ${getY2AxisYPosition(
                    config
                )})`
            )
            .call(axis.y2);
    }
};

/**
 * Create the axis for text labels
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @param {Array} canvasSVG - d3 object of canvas svg
 * @returns {undefined} - returns nothing
 */
const createXAxisInfoRow = (axis, scale, config, canvasSVG) => {
    getAxesScale(axis, scale, config);
    canvasSVG
        .append("g")
        .classed(styles.axis, true)
        .classed(styles.axisInfoRow, true)
        .attr("aria-hidden", true)
        .attr(
            "transform",
            `translate(${getXAxisXPosition(config)}, ${getAxisInfoRowYPosition(
                config
            )})`
        )
        .call(axis.axisInfoRow.x);
};

/**
 * Creates a horizontal reference line at 0, when Y Axis does not start at 0.
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @param {d3.selection} canvasSVG - d3 selection node of canvas svg
 * @returns {undefined} - returns nothing
 */
const createAxisReferenceLine = (axis, scale, config, canvasSVG) => {
    const transformAttribute = `translate(${getYAxisXPosition(
        config
    )}, ${getYAxisYPosition(config)})`;
    const setReferenceLineAttributes = (path, style) =>
        path
            .classed(styles.axisReferenceLine, true)
            .attr("aria-hidden", !hasNegativeLowerBound(scale, style))
            .attr("transform", transformAttribute)
            .attr(
                "d",
                createReferenceLine(scale, style)(getReferenceLineData(scale))
            );
    setReferenceLineAttributes(canvasSVG.append("path"), constants.Y_AXIS)
        .classed(styles.axis, true)
        .classed(styles.axisY, true);
    if (hasY2Axis(config.axis)) {
        setReferenceLineAttributes(canvasSVG.append("path"), constants.Y2_AXIS)
            .classed(styles.axis, true)
            .classed(styles.axisY2, true);
    }
};
/**
 * Prepares X,Y,Y2 and an optional axis info row (label row for Bar graphs) Axes according to their scale and available container width and height
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @returns {Object} - Scaled axes object
 */
const getAxesScale = (axis, scale, config) => {
    axis.x = prepareXAxis(
        scale.x,
        config.axis.x.ticks.values,
        getXAxisWidth(config),
        getAxisTickFormat(
            config.locale,
            config.axis.x.ticks.format,
            config.axis.x.type
        ),
        config.axis.x.orientation
    );
    axis.axisInfoRow.x = prepareXAxisInfoRow(
        scale.x,
        getAxisInfoOrientation(config.axis.x.orientation)
    );
    axis.y = prepareYAxis(
        scale.y,
        config.axis.y.ticks.values,
        config.height,
        getAxisTickFormat(config.locale, config.axis.y.ticks.format)
    );
    if (hasY2Axis(config.axis)) {
        axis.y2 = prepareY2Axis(
            scale.y2,
            config.axis.y2.ticks.values,
            config.height,
            getAxisTickFormat(config.locale, config.axis.y2.ticks.format)
        );
    }
    return axis;
};
/**
 * Ticks can be formatted by passing the format string via input JSON.
 * * For formatting numbers (x,y,y2 axes ticks) use Python specifiers.
 * * Ticks can also be formatted for date time inputs.
 * @private
 * @see https://docs.python.org/2/library/string.html#format-specification-mini-language
 * @see https://github.com/d3/d3-time-format/blob/master/README.md#locales
 * @param {Object} locale - d3 Locale object
 * @param {string} format - tick format string
 * @param {string} type - default or timeseries chart type
 * @returns {Object} d3 locale object formatter
 */
const getAxisTickFormat = (locale, format, type = AXIS_TYPE.DEFAULT) => {
    if (utils.isEmpty(format)) {
        return DEFAULT_TICK_FORMAT;
    }
    if (type === AXIS_TYPE.TIME_SERIES) {
        return locale.timeFormat(format);
    } else {
        return locale.numberFormat(format);
    }
};
/**
 * Gets the tick values with correct format.
 * * If there are no tick values provided then null is returned
 * * If the ticks values are in a ISO8601 format then a date object is returned
 * * No processing is done, otherwise
 * @private
 * @param {Array} ticks - Array of values that represent the tick values
 * @returns {(Array|null)} returns processed ticks, null otherwise
 */
const processTickValues = (ticks) => {
    if (utils.isEmpty(ticks)) {
        return null;
    }
    return ticks.map((t) => (utils.isDate(t) ? utils.parseDateTime(t) : t));
};
/**
 * Based on x axis orientation, sets the axis info row orientation.
 * * If x axis orientation is top, axis info row orientation is bottom.
 * * If x axis orientation is bottom, axis info row orientation is top.
 * @private
 * @param {string} xAxisOrientation - x axis orientation
 * @returns {string} returns orientation for axis info row.
 */
const getAxisInfoOrientation = (xAxisOrientation) =>
    isXAxisOrientationTop(xAxisOrientation)
        ? AXES_ORIENTATION.X.BOTTOM
        : AXES_ORIENTATION.X.TOP;
/**
 * Creates the axis using the scale provided for X Axis using d3 svg axis.
 * If tickValues are provided then they are reserved precedence over ticks/tick counts.
 * @private
 * @param {Object} scale - d3 scale calculated using domain and range
 * @param {Array} tickValues - Array of values that represent the tick values
 * @param {number} width - Width of the canvas which will be used to tell d3 how many ticks to
 * keep in the X axis
 * @param {Object} format - d3 locale object formatted to represent the tick.
 * @param {string} [orientation] - Axis orientation
 * @returns {Object} d3 object which forms the x-axis scale
 */
const prepareXAxis = (
    scale,
    tickValues,
    width,
    format,
    orientation = AXES_ORIENTATION.X.BOTTOM
) =>
    d3.svg
        .axis()
        .scale(scale)
        .orient(orientation)
        .ticks(
            Math.max(width / constants.MAX_TICK_VARIANCE, constants.MIN_TICKS)
        )
        .tickValues(processTickValues(tickValues))
        .tickFormat(format);

/**
 * Creates the axis using the scale provided for X Axis using d3 svg axis.
 * @private
 * @param {Object} scale - d3 scale calculated using domain and range
 * @param {string} [orientation] - Axis orientation
 * @returns {Object} d3 object which forms the text label axis scale
 */
const prepareXAxisInfoRow = (scale, orientation = AXES_ORIENTATION.X.BOTTOM) =>
    d3.svg
        .axis()
        .scale(scale)
        .orient(orientation)
        .tickValues([]);

/**
 * Helper function to Create the axis using the scale provided for X Axis using d3 svg axis.
 * @param {Object} scale - d3 scale calculated using domain and range
 * @param {Array} tickValues - Array of values that represent the tick values
 * @param {Object} config - config object derived from input JSON
 * @param {string} [orientation] - Axis orientation
 * @return {Object} - d3 Object which forms the axis scale
 */
const prepareHorizontalAxis = (scale, tickValues, config, orientation) =>
    prepareXAxis(
        scale.x,
        tickValues,
        getXAxisWidth(config),
        getAxisTickFormat(
            config.locale,
            config.axis.x.ticks.format,
            config.axis.x.type
        ),
        orientation
    );
/**
 * Creates the axis using the scale provided for Y Axis using d3 svg axis
 * @private
 * @param {Object} scale - d3 scale calculated using domain and range
 * @param {Array} tickValues - Array of values that represent the tick values
 * @param {number} height - Height of the Y Axis to calculate the number of Y Axis ticks
 * @param {Object} format - d3 locale object formatted to represent the tick.
 * @returns {Object} d3 object which forms the y-axis scale
 */
const prepareYAxis = (scale, tickValues, height, format) =>
    d3.svg
        .axis()
        .scale(scale)
        .orient("left")
        .ticks(height / constants.DEFAULT_Y_AXIS_SPACING)
        .tickValues(processTickValues(tickValues))
        .tickFormat(format);
/**
 * Creates the axis using the scale provided for Y2 Axis using d3 svg axis
 * @private
 * @param {Object} scale - d3 scale calculated using domain and range
 * @param {Array} tickValues - Array of values that represent the tick values
 * @param {number} height - Height of the Y2 Axis to calculate the number of Y2 Axis ticks
 * @param {Object} format - d3 locale object formatted to represent the tick.
 * @returns {Object} d3 object which forms the y2-axis scale
 */
const prepareY2Axis = (scale, tickValues, height, format) =>
    d3.svg
        .axis()
        .scale(scale)
        .orient("right")
        .ticks(height / constants.DEFAULT_Y_AXIS_SPACING)
        .tickValues(processTickValues(tickValues))
        .tickFormat(format);
/**
 * Returns the number of degrees the rotation of axis needs to be performed based on axis
 * @private
 * @param {string} axis - X, Y or Y2 axis
 * @returns {number} amount of degrees the rotation needs to be performed
 */
const getRotationForAxis = (axis) => {
    switch (axis) {
        case constants.Y_AXIS:
            return -90;
        case constants.Y2_AXIS:
            return 90;
        default:
            return 0;
    }
};
/**
 * X Axis label's starting position below the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label
 */
const getXAxisLabelXPosition = (config) =>
    getXAxisXPosition(config) + getXAxisWidth(config) / 2;
/**
 * X Axis label's position vertically below the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label
 */
const getXAxisLabelYPosition = (config) =>
    isXAxisOrientationTop(config.axis.x.orientation)
        ? calculateVerticalPadding(config) - config.axisLabelHeights.x * 2
        : getXAxisYPosition(config) +
          config.axisLabelHeights.x * 2 +
          (config.padding.bottom - config.axisInfoRowLabelHeight) * 2;
/**
 * Y Axis label's starting position vertically beside the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label
 */
const getYAxisLabelXPosition = (config) =>
    config.padding.left - config.axisLabelWidths.y;
/**
 * Y Axis label's position distance away from the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label
 */
const getYAxisLabelYPosition = (config) =>
    getYAxisYPosition(config) +
    (getYAxisHeight(config) - config.padding.left / 2) / 2;
/**
 * Y Axis label shape starting position vertically beside the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label shape
 */
const getYAxisLabelShapeXPosition = (config) =>
    getYAxisLabelXPosition(config) + constants.BASE_LABEL_ICON_HEIGHT_PADDING;
/**
 * Y Axis label shape position distance away from the graph.
 * We are taking the Container height and adding it with
 * half of the width for label shape container so that it centers to the graph.
 * @private
 * @param {Object} config - config object derived from input JSON
 * @param {Selection} labelShapeContainer - d3 element for label shape container
 * @returns {number} Position for the label
 */
const getYAxisLabelShapeYPosition = (config, labelShapeContainer) =>
    getYAxisLabelYPosition(config) +
    labelShapeContainer.node().getBoundingClientRect().height / 2;
/**
 * Y2 Axis label shape position distance away from the graph.
 * We are taking the Container height and subtracting it with
 * Label shape container width to center it with respect to the
 * container in reverse order.
 * @private
 * @param {Object} config - config object derived from input JSON
 * @param {Selection} labelShapeContainer - d3 element for label shape container
 * @returns {number} Position for the label
 */
const getY2AxisLabelShapeYPosition = (config, labelShapeContainer) =>
    getYAxisLabelYPosition(config) -
    labelShapeContainer.node().getBoundingClientRect().height / 2;
/**
 * Y2 Axis label's starting position vertically beside the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label
 */
const getY2AxisLabelXPosition = (config) =>
    getY2AxisXPosition(config) +
    config.padding.right +
    config.axisLabelWidths.y2;
/**
 * Y2 Axis label shape starting position vertically beside the graph
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the label shape
 */
const getY2AxisLabelShapeXPosition = (config) =>
    getY2AxisLabelXPosition(config) - constants.BASE_LABEL_ICON_HEIGHT_PADDING;
/**
 * Calculates Vertical Padding according to X Axis orientation
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Vertical Padding for X Axis
 */
const calculateVerticalPadding = (config) => {
    if (!isXAxisOrientationTop(config.axis.x.orientation)) {
        return config.padding.bottom;
    } else if (!config.axisLabelHeights.x) {
        return config.padding.top;
    }
    return config.axisLabelHeights.x * 2 + config.padding.top;
};
/**
 * X Axis's starting position within the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getXAxisXPosition = (config) =>
    config.axisSizes.y + config.axisLabelWidths.y;
/**
 * X Axis's position vertically relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getAxisInfoRowYPosition = (config) =>
    isXAxisOrientationTop(config.axis.x.orientation)
        ? getYAxisHeight(config) + calculateVerticalPadding(config)
        : calculateVerticalPadding(config);
/**
 * Axis Info Row's position vertically relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getXAxisYPosition = (config) =>
    isXAxisOrientationTop(config.axis.x.orientation)
        ? calculateVerticalPadding(config)
        : getYAxisHeight(config) + calculateVerticalPadding(config);
/**
 * Y Axis's starting position relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getYAxisXPosition = (config) => getXAxisXPosition(config);
/**
 * Y Axis's position vertically relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getYAxisYPosition = (config) => calculateVerticalPadding(config);
/**
 * Y2 Axis's starting position relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getY2AxisXPosition = (config) =>
    getYAxisXPosition(config) + getXAxisWidth(config);
/**
 * Y2 Axis's position vertically relative to the canvas
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Position for the axis
 */
const getY2AxisYPosition = (config) => calculateVerticalPadding(config);
/**
 * X Axis's width that will hold equally spaced ticks
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} X Axis width
 */
const getXAxisWidth = (config) =>
    config.canvasWidth -
    config.axisSizes.y -
    config.axisSizes.y2 -
    config.axisLabelWidths.y -
    config.axisLabelWidths.y2;
/**
 * Y Axis height for the axis and canvas region to clip the chart within
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Height of the canvas
 */
const getYAxisHeight = (config) => config.height;
/**
 * X Axis height for the axis and labels to display within
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {number} Height of the X Axis ticks, labels and numbers/datetimes
 */
const getXAxisHeight = (config) => {
    if (config.padding.hasCustomPadding) {
        return config.padding.bottom;
    }
    const scale = getScale(config.axis.x.type)
        .domain(config.axis.x.domain)
        .range([0, config.canvasWidth]);
    const axis = d3.svg
        .axis()
        .scale(scale)
        .orient(AXES_ORIENTATION.X.BOTTOM);
    const dummy = d3.select("body").append("div");
    const svg = dummy.append("svg");
    const group = svg.append("g").call(axis);
    const height = group.node().getBoundingClientRect().height;
    dummy.remove();
    return height;
};
/**
 * X Axis range used to instruct d3 when creating a scale
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {Array} lower and upper bound forming the range
 */
const getXAxisRange = (config) => [0, getXAxisWidth(config)];
/**
 * Y Axis range used to instruct d3 when creating a scale
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {Array} lower and upper bound forming the range
 */
const getYAxisRange = (config) => [getYAxisHeight(config), 0];
/**
 * Dynamically generate the label width for axes
 * @private
 * @param {string} label - Label text
 * @param {string} axis - x, y or y2
 * @returns {number} label width
 */
const getAxisLabelWidth = (label, axis) => {
    const dummy = d3.select("body").append("div");
    const svg = dummy.append("svg");
    const grouper = svg
        .append("g")
        .attr("transform", `rotate(${getRotationForAxis(axis)})`);
    buildAxisLabel(grouper, label);
    const width = grouper.node().getBoundingClientRect().width;
    dummy.remove();
    return width;
};
/**
 * Dynamically generate the label height for axes
 * @private
 * @param {string} label - Label text
 * @returns {number} label height
 */
const getAxisLabelHeight = (label) => {
    const dummy = d3.select("body").append("div");
    const svg = dummy.append("svg");
    const grouper = svg.append("g");
    buildAxisLabel(grouper, label);
    const height = grouper.node().getBoundingClientRect().height;
    dummy.remove();
    return height;
};
/**
 * Dynamically generate the label width for y axes
 * @private
 * @param {string} id - y or y2
 * @param {Object} config - config object derived from input JSON
 * @returns {number} label width
 */
const getYAxisWidth = (id, config) => {
    if (config.padding.hasCustomPadding) {
        return config.padding.left;
    }
    const scale = d3.scale
        .linear()
        .domain([
            config.axis[id].domain.lowerLimit,
            config.axis[id].domain.upperLimit
        ])
        .range([config.height, 0]);
    const axis = d3.svg
        .axis()
        .scale(scale)
        .orient("left");
    const dummy = d3.select("body").append("div");
    const svg = dummy.append("svg");
    const yAxisSVG = svg.append("g").call(axis);
    const width = yAxisSVG.node().getBoundingClientRect().width;
    dummy.remove();
    return width;
};

/**
 * Generate the label width for y2 axes.
 * @private
 * @param {object} config - config object derived from input JSON.
 * @returns {number} label width
 */
const getY2AxisWidth = (config) => {
    if (config.padding.hasCustomPadding) {
        return config.padding.right;
    }
    return (
        (hasY2Axis(config.axis)
            ? getYAxisWidth(constants.Y2_AXIS, config)
            : 20) + config.padding.right
    );
};
/**
 * Checks if X Axis orientation is set to top
 * @private
 * @param {string} xAxisOrientation - X Axis orientation
 * @returns {boolean} - true if X Axis orientation is set to top, false if it is bottom(default)
 */
const isXAxisOrientationTop = (xAxisOrientation) =>
    xAxisOrientation === AXES_ORIENTATION.X.TOP;
/**
 * Calculates axes sizes, specifically:
 *  X Axis: Height
 *  Y Axis: Width
 *  Y2 Axis: Width
 *  @private
 *  @param {Object} config - config object derived from input JSON
 *  @returns {undefined} - returns nothing
 */
const calculateAxesSize = (config) => {
    config.axisSizes = {};
    config.axisSizes.y = config.padding.hasCustomPadding
        ? getYAxisWidth(constants.Y_AXIS, config)
        : getYAxisWidth(constants.Y_AXIS, config) + config.padding.left;
    config.axisSizes.y2 = getY2AxisWidth(config);
    config.axisSizes.x = getXAxisHeight(config);
};
/**
 * Calculates axes label sizes, specifically:
 *  X Axis Label: Height
 *  Y Axis Label: Width
 *  Y2 Axis Label: Width
 *  @private
 *  @param {Object} config - config object derived from input JSON
 *  @returns {undefined} - returns nothing
 */
const calculateAxesLabelSize = (config) => {
    config.axisLabelHeights = {};
    config.axisLabelWidths = {};
    config.axisLabelHeights.x = 0;
    config.axisLabelWidths.y = 0;
    config.axisLabelWidths.y2 = 0;
    config.axisInfoRowLabelHeight = 0;
    if (config.showLabel) {
        if (config.axis.x.label) {
            config.axisLabelHeights.x = getAxisLabelHeight(config.axis.x.label);
        }
        if (config.axis.y.label) {
            config.axisLabelWidths.y = getAxisLabelWidth(
                config.axis.y.label,
                constants.Y_AXIS
            );
        }
        if (hasY2Axis(config.axis) &amp;&amp; config.axis.y2.label) {
            config.axisLabelWidths.y2 = hasY2Axis(config.axis)
                ? getAxisLabelWidth(config.axis.y2.label, constants.Y2_AXIS)
                : 0;
        }
    }
};
/**
 * Returns the mid value of the axis domain relative to the lower bound
 * @private
 * @param {Object} config - config object derived from input JSON
 * @param {string} yAxis - Y, Y2 etc
 * @returns {number} returns a number representing the mid value of y axes domain
 */
const getMidPoint = (config, yAxis) => {
    const axisMidValue =
        (config.axis[yAxis].domain.upperLimit -
            config.axis[yAxis].domain.lowerLimit) /
        2;
    return config.axis[yAxis].domain.lowerLimit + axisMidValue;
};
/**
 * Calculates the lower part of the outlier based on data points.
 * If the content has any data points that are outside the lower and upper bounds set
 * in the vertical axis then we adjust the axis bounds to support that outlier value.
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {Array} List of lower bound values for each of the vertical axis
 */
const getLowerOutlierStretchFactorList = (config) => {
    const lowerStretchFactors = [];
    const getMinValue = (config, yAxis, axisMinValue) => {
        const dataRangeMinValue = config.axis[yAxis].dataRange.min;
        return dataRangeMinValue &lt; axisMinValue
            ? dataRangeMinValue
            : axisMinValue;
    };
    const getLowerStretchFactor = (yAxis) => {
        const axisMinValue = config.axis[yAxis].domain.lowerLimit;
        const axisMidPoint = getMidPoint(config, yAxis);
        const lowerStretchFactor = Math.abs(
            (axisMidPoint - getMinValue(config, yAxis, axisMinValue)) /
                (axisMidPoint - axisMinValue)
        );
        return lowerStretchFactor > 1 ? lowerStretchFactor : 1;
    };
    lowerStretchFactors.push(getLowerStretchFactor(constants.Y_AXIS));
    if (hasY2Axis(config.axis)) {
        lowerStretchFactors.push(getLowerStretchFactor(constants.Y2_AXIS));
    }
    return lowerStretchFactors;
};
/**
 * Calculates the upper part of the outlier based on data points.
 * If the content has any data points that are outside the lower and upper bounds set
 * in the vertical axis then we adjust the axis bounds to support that outlier value.
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {Array} List of upper bound values for each of the vertical axis
 */
const getUpperOutlierStretchFactorList = (config) => {
    const upperStretchFactors = [];
    const getMaxValue = (config, yAxis, axisMaxValue) => {
        const dataRangeMaxValue = config.axis[yAxis].dataRange.max;
        return dataRangeMaxValue > axisMaxValue
            ? dataRangeMaxValue
            : axisMaxValue;
    };
    const getUpperStretchFactor = (yAxis) => {
        const axisMaxValue = config.axis[yAxis].domain.upperLimit;
        const axisMidPoint = getMidPoint(config, yAxis);
        const upperStretchFactor = Math.abs(
            (getMaxValue(config, yAxis, axisMaxValue) - axisMidPoint) /
                (axisMaxValue - axisMidPoint)
        );
        return upperStretchFactor > 1 ? upperStretchFactor : 1;
    };
    upperStretchFactors.push(getUpperStretchFactor(constants.Y_AXIS));
    if (hasY2Axis(config.axis)) {
        upperStretchFactors.push(getUpperStretchFactor(constants.Y2_AXIS));
    }
    return upperStretchFactors;
};
/**
 * Determines if the values provided exceed the lower and upper bounds provided in the Y or Y2 axes
 * If the values exceed the bounds then the range and domain are adjusted accordingly.
 * There is no outlier check for X axis, for now, due to the possibility that X axis can be a timeseries.
 * @private
 * @param {Object} config - config object derived from input JSON
 * @returns {Object} stretch factor determines the new upper and lower limit.
 */
const determineOutlierStretchFactor = (config) => {
    const sortOutlier = (firstValue, secondValue) => secondValue - firstValue;
    return {
        upperLimit: getUpperOutlierStretchFactorList(config).sort(
            sortOutlier
        )[0],
        lowerLimit: getLowerOutlierStretchFactorList(config).sort(
            sortOutlier
        )[0]
    };
};
/**
 * Returns the d3 html element after appending axis label text
 * @private
 * @param {Array} group - d3 html element
 * @param {string} label - Label text
 * @returns {Array} d3 html element
 */
const buildAxisLabel = (group, label) =>
    group
        .append("text")
        .attr("text-anchor", "middle")
        .append("tspan")
        .text(label);
/**
 * Decides true if the input JSON y2.show is enabled and if y2 axis points are provided
 * @private
 * @param {Object} axis - x, y and y2 axes values
 * @returns {boolean} True if enabled
 */
const hasY2Axis = (axis) => utils.isDefined(axis.y2) &amp;&amp; axis.y2.show;
/**
 * Updates the x, y, y2 (if enabled) and axis info row(if enabled) positions on resize
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @param {d3.selection} canvasSVG - d3 selection node of canvas svg
 * @returns {undefined} - returns nothing
 */
const translateAxes = (axis, scale, config, canvasSVG) => {
    getAxesScale(axis, scale, config);
    prepareHAxis(scale, axis, config, prepareHorizontalAxis);
    canvasSVG
        .select(`.${styles.axisX}`)
        .transition()
        .call(constants.d3Transition)
        .attr(
            "transform",
            `translate(${getXAxisXPosition(config)},${getXAxisYPosition(
                config
            )})`
        )
        .call(axis.x);
    canvasSVG
        .select(`.${styles.axisY}`)
        .transition()
        .call(constants.d3Transition)
        .attr(
            "transform",
            `translate(${getYAxisXPosition(config)}, ${getYAxisYPosition(
                config
            )})`
        )
        .call(axis.y);
    if (hasY2Axis(config.axis)) {
        canvasSVG
            .select(`.${styles.axisY2}`)
            .transition()
            .call(constants.d3Transition)
            .attr(
                "transform",
                `translate(${getY2AxisXPosition(config)}, ${getY2AxisYPosition(
                    config
                )})`
            )
            .call(axis.y2);
    }
    canvasSVG
        .select(`.${styles.axisInfoRow}`)
        .transition()
        .call(constants.d3Transition)
        .attr(
            "transform",
            `translate(${getXAxisXPosition(config)}, ${getAxisInfoRowYPosition(
                config
            )})`
        )
        .call(axis.axisInfoRow.x);
};
/**
 * Updates the Y axis reference line when resized. This is also called
 * when a content is loaded.
 * @private
 * @param {Object} axis - Axis scaled according to input parameters
 * @param {Object} scale - d3 scale taking into account the input parameters
 * @param {Object} config - config object derived from input JSON
 * @param {d3.selection} canvasSVG - d3 selection node of canvas svg
 * @returns {undefined} - returns nothing
 */
const translateAxisReferenceLine = (axis, scale, config, canvasSVG) => {
    const setTranslate = (path, style) =>
        path
            .transition()
            .call(constants.d3Transition)
            .attr("aria-hidden", false)
            .attr(
                "d",
                createReferenceLine(scale, style)(getReferenceLineData(scale))
            );
    if (hasNegativeLowerBound(scale, constants.Y_AXIS)) {
        setTranslate(
            canvasSVG.select(
                `path.${styles.axis}.${styles.axisY}.${styles.axisReferenceLine}`
            ),
            constants.Y_AXIS
        );
    }
    if (
        hasY2Axis(config.axis) &amp;&amp;
        hasNegativeLowerBound(scale, constants.Y2_AXIS)
    ) {
        setTranslate(
            canvasSVG.select(
                `path.${styles.axis}.${styles.axisY2}.${styles.axisReferenceLine}`
            ),
            constants.Y2_AXIS
        );
    }
};
/**
 * Calculates current min and max value ranges.
 * if the input is bar content and is being cascaded on top of other bars,
 * then we need to calculate top and bottom domain values by summing cascaded bars value ranges
 * @private
 * @param {Object} input - Object containing min and max data point values
 * @param {Array} content - array of target objects
 * @param {string} axis - y or y2
 * @returns {Object} - Object with min and max value ranges
 */
const getCurMinMaxValueRange = (input, content, axis) => {
    if (input instanceof Bar) {
        let min = 0;
        let max = 0;
        const groupedBars = content.filter((value) => {
            if (value instanceof Bar) {
                return value.config.group === input.config.group;
            }
            return false;
        });
        groupedBars.forEach((bar) => {
            max += bar.valuesRange[axis].max;
            min += bar.valuesRange[axis].min;
        });
        return {
            min,
            max
        };
    }
    return {
        min: input.valuesRange[axis].min,
        max: input.valuesRange[axis].max
    };
};
/**
 * Calculates the axes - x, y and y2 data range.
 * For each data point provided, we need to set the min and max ranges.
 * Data point sets [n]
 *  Data points [n]
 *      x, y, y2 [1]
 * @private
 * @param {Object} input - input content object
 * @param {string} axis - y or y2
 * @param {Object} config - config object derived from input JSON
 * @param {Array} content - array of target objects
 * @returns {undefined} - returns nothing
 */
const getAxesDataRange = (
    input,
    axis = constants.Y_AXIS,
    config,
    content = []
) => {
    if (utils.isEmpty(config.axis.y.dataRange)) {
        config.axis.y.dataRange = {};
    }
    if (hasY2Axis(config.axis) &amp;&amp; utils.isEmpty(config.axis.y2.dataRange)) {
        config.axis.y2.dataRange = {};
    }
    if (utils.isEmpty(input) || utils.isEmpty(input.valuesRange)) {
        return;
    }
    const curRange = getCurMinMaxValueRange(input, content, axis);
    const prevMin = config.axis[axis].dataRange.oldMin;
    const prevMax = config.axis[axis].dataRange.oldMax;
    const isRangeModified =
        !(prevMin &amp;&amp; prevMax) ||
        !(prevMin &lt;= curRange.min || prevMax >= curRange.max);
    config.axis[axis].dataRange.isRangeModified = isRangeModified;
    if (isRangeModified) {
        config.axis[axis].dataRange.oldMin = config.axis[axis].dataRange.min;
        config.axis[axis].dataRange.oldMax = config.axis[axis].dataRange.max;
        config.axis[axis].dataRange.min = curRange.min;
        config.axis[axis].dataRange.max = curRange.max;
    }
};
/**
 * Checks if provided input has valid axis type
 * @param {string} x - input x value
 * @param {string} xAxisType - x axis type
 * @returns {boolean} - returns true if valid, false if invalid
 */
const isValidAxisType = (x, xAxisType) =>
    ((utils.isDate(x) || utils.isDateInstance(x)) &amp;&amp;
        getType(xAxisType) === AXIS_TYPE.TIME_SERIES) ||
    (!utils.isDate(x) &amp;&amp;
        !utils.isDateInstance(x) &amp;&amp;
        getType(xAxisType) !== AXIS_TYPE.TIME_SERIES);

/**
 * @enum {Function}
 */
export {
    prepareXAxis,
    prepareHorizontalAxis,
    prepareYAxis,
    prepareY2Axis,
    getAxisTickFormat,
    getRotationForAxis,
    getXAxisLabelXPosition,
    getXAxisLabelYPosition,
    getYAxisLabelXPosition,
    getYAxisLabelShapeXPosition,
    getYAxisLabelYPosition,
    getY2AxisLabelXPosition,
    getY2AxisLabelShapeXPosition,
    getYAxisLabelShapeYPosition,
    getY2AxisLabelShapeYPosition,
    getXAxisXPosition,
    getXAxisYPosition,
    getYAxisXPosition,
    getYAxisYPosition,
    getY2AxisXPosition,
    getY2AxisYPosition,
    getXAxisWidth,
    getYAxisHeight,
    getXAxisHeight,
    getXAxisRange,
    getYAxisRange,
    getAxisLabelWidth,
    getAxisLabelHeight,
    getYAxisWidth,
    calculateAxesSize,
    calculateAxesLabelSize,
    determineOutlierStretchFactor,
    buildAxisLabel,
    getAxesScale,
    createAxes,
    createXAxisInfoRow,
    createAxisReferenceLine,
    getAxesDataRange,
    processTickValues,
    hasY2Axis,
    translateAxes,
    translateAxisReferenceLine,
    isValidAxisType,
    calculateVerticalPadding,
    isXAxisOrientationTop,
    getAxisInfoRowYPosition
};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.2</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
